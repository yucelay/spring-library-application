<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="tr">
<head>

<style type="text/css">
#counterBox {
	border-radius: 10px;
	background-color: #17A1B7;
	margin: 20px;
	width: 100%;
	padding-top: 10px;
	padding-bottom: 10px;
	color: #FFFFFF;
}
</style>



<meta charset="UTF-8">
<div th:replace="fragments/header :: header-css" />

</head>
<body>
	<div th:replace="fragments/header :: header" />
	<div class="container">
		<div class="row">
			<div class="col-sm-6" align="center">
				<div id="counterBox" style="color: #800000;">
					<h2>Kitap Sayısı</h2>
					<hr>
					<div class="row">
						<div class="col-sm-4">
							<h1>
								<i class="fas fa-book fa-lg"></i>
							</h1>
						</div>

						<div class="col-sm-4">
							<h1>
								<b id="totalBookJs">  </b>
							</h1>
						</div>

						<div class="col-sm-4">
							<h1></h1>
						</div>
					</div>
				</div>





				<div class="row">

					<div class="col-sm-6" align="center">
						<div id="counterBox"
							style="background-color: #55AAFF; color: #000000;">
							<h2>Yazar Sayısı</h2>
							<hr>
							<div class="row">
								<div class="col-sm-4" style="padding-left: 20px;">
									<h1>
										<i class="fas fa-user-edit fa-lg"></i>
									</h1>
								</div>

								<div class="col-sm-4">
									<h1>
										<b id="totalAuthorJs"></b>
									</h1>
								</div>

								<div class="col-sm-4">
									<h1></h1>
								</div>
							</div>
						</div>
					</div>



					<div class="col-sm-6" align="center">
						<div id="counterBox"
							style="background-color: #55AAFF; color: #000000;">
							<h2>Yayınevi Sayısı</h2>
							<hr>
							<div class="row">
								<div class="col-sm-4">
									<h1>
										<i class="fas fa-print fa-lg"></i>
									</h1>
								</div>

								<div class="col-sm-4">
									<h1>
										<b id="totalPublisherJs"></b>
									</h1>
								</div>

								<div class="col-sm-4">
									<h1></h1>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="col-sm-6" align="center">
				<div id="counterBox"
					style="background-color: #FFFFFF; color: #000000; border: 1px Solid #17A1B7;">
					<h4>Yeni Eklenen Kitaplar</h4>
					<div class="row">
						<div class="col-sm-12">
							<table class="table table-striped table-responsive table-sm">
								<thead>
									<tr>
										<th width="12%">Kitap Adı</th>
										<th width="10%">Yazar</th>
										<th width="10%">Yayınevi</th>
										<th width="16%">Açıklama</th>
									</tr>
								</thead>

								<tbody>
									<tr th:each="book : ${booksForMainPage}">
										<td th:text="${book.bookName}"></td>
										<td th:text="${book.bookAuthor}"></td>
										<td th:text="${book.bookPublisherName}"></td>
										<td th:text="${book.bookExplanation}"></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script type="text/javascript">
		
		window.onload = function() {
			functionInterval();
		};
		
			var counterBook = 0;
			var totalBookDb = [[${totalBook}]];
			function totalBookFunc() {
				counterBook++;
				if (counterBook > totalBookDb) {
					clearInterval(ycIntBook);
				} else {
					document.getElementById("totalBookJs").innerHTML = counterBook;
				}

			};
			
			
			var counterAuthor = 0;
			var totalAuthorDb = [[${totalAuthor}]];
			function totalAuthorFunc() {
				counterAuthor++;
				if (counterAuthor > totalAuthorDb) {
					clearInterval(ycIntAuthor);
				} else {
					document.getElementById("totalAuthorJs").innerHTML = counterAuthor;
				}

			};
			
			
			var counterPublisher = 0;
			var totalPublisherDb = [[${totalPublisher}]];
			function totalPublisherFunc() {
				counterPublisher++;
				if (counterPublisher > totalPublisherDb) {
					clearInterval(ycIntPublisher);
				} else {
					document.getElementById("totalPublisherJs").innerHTML = counterPublisher;
				}

			};
			
			
			

			function functionInterval() {
				var ycIntBook = setInterval(totalBookFunc, 30);
				var ycIntAuthor = setInterval(totalAuthorFunc, 40);
				var ycIntPublisher = setInterval(totalPublisherFunc, 50);
			};
		</script>



	</div>
	<div style="width: 100%; height: 100px;"></div>
	<div th:replace="fragments/footer :: footer" />
</body>
</html>